{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImageModal=_ref=>{let{images,onClose,onDelete}=_ref;const handleDeleteImage=async index=>{const imageToDelete=fetchedImages[index];try{const response=await fetch(`https://ad-display-backend.onrender.com/api/images/${imageToDelete.id}`,{method:'DELETE',headers:{'Content-Type':'application/json'}});if(response.ok){// If the delete was successful, update the state\nconst updatedFiles=[...fetchedImages];updatedFiles.splice(index,1);setFetchedImages(updatedFiles);setMessage(`Image ${imageToDelete.imageName} deleted successfully!`);}else{const errorData=await response.json();setMessage(errorData.error||`Failed to delete ${imageToDelete.imageName}.`);}}catch(error){console.error('Error deleting image:',error);setMessage('An error occurred while deleting the image.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",style:modalStyles,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Images\"}),images.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No images uploaded.\"}):/*#__PURE__*/_jsx(\"div\",{children:images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{style:imageContainerStyles,children:[/*#__PURE__*/_jsx(\"img\",{src:image.imageUrl,alt:image.imageName,style:imageStyles}),/*#__PURE__*/_jsx(\"span\",{style:imageNameStyles,children:image.imageName}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(index),style:deleteButtonStyles,children:\"Delete\"})]},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:closeButtonStyles,children:\"Close\"})]});};// Styles for the modal and its contents\nconst modalStyles={position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'white',padding:'20px',boxShadow:'0 4px 8px rgba(0, 0, 0, 0.2)',zIndex:1000,width:'400px',borderRadius:'8px'};const imageContainerStyles={display:'flex',alignItems:'center',marginBottom:'10px'};const imageStyles={width:'60px',height:'60px',borderRadius:'4px'};const imageNameStyles={marginLeft:'10px',flexGrow:1};const deleteButtonStyles={marginLeft:'10px',backgroundColor:'red',color:'white',border:'none',padding:'5px 10px',cursor:'pointer',borderRadius:'4px'};const closeButtonStyles={marginTop:'20px',padding:'10px 20px',backgroundColor:'blue',color:'white',border:'none',cursor:'pointer',borderRadius:'4px'};export default ImageModal;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ImageModal","_ref","images","onClose","onDelete","handleDeleteImage","index","imageToDelete","fetchedImages","response","fetch","id","method","headers","ok","updatedFiles","splice","setFetchedImages","setMessage","imageName","errorData","json","error","console","className","style","modalStyles","children","length","map","image","imageContainerStyles","src","imageUrl","alt","imageStyles","imageNameStyles","onClick","deleteButtonStyles","closeButtonStyles","position","top","left","transform","backgroundColor","padding","boxShadow","zIndex","width","borderRadius","display","alignItems","marginBottom","height","marginLeft","flexGrow","color","border","cursor","marginTop"],"sources":["/Users/macbook/Desktop/ad-display-portal/src/components/ImageModal.js"],"sourcesContent":["import React from 'react';\n\nconst ImageModal = ({ images, onClose, onDelete }) => {\n\n\n\n\n\n    const handleDeleteImage = async (index) => {\n        const imageToDelete = fetchedImages[index];\n\n        try {\n            const response = await fetch(`https://ad-display-backend.onrender.com/api/images/${imageToDelete.id}`, {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            });\n\n            if (response.ok) {\n                // If the delete was successful, update the state\n                const updatedFiles = [...fetchedImages];\n                updatedFiles.splice(index, 1);\n                setFetchedImages(updatedFiles);\n                setMessage(`Image ${imageToDelete.imageName} deleted successfully!`);\n            } else {\n                const errorData = await response.json();\n                setMessage(errorData.error || `Failed to delete ${imageToDelete.imageName}.`);\n            }\n        } catch (error) {\n            console.error('Error deleting image:', error);\n            setMessage('An error occurred while deleting the image.');\n        }\n    };\n\n\n\n\n\n\n    return (\n        <div className=\"modal\" style={modalStyles}>\n            <h2>Manage Images</h2>\n            {images.length === 0 ? (\n                <p>No images uploaded.</p>\n            ) : (\n                <div>\n                    {images.map((image, index) => (\n                        <div key={index} style={imageContainerStyles}>\n                            <img src={image.imageUrl} alt={image.imageName} style={imageStyles} />\n                            <span style={imageNameStyles}>{image.imageName}</span>\n                            <button onClick={() => onDelete(index)} style={deleteButtonStyles}>\n                                Delete\n                            </button>\n                        </div>\n                    ))}\n                </div>\n            )}\n            <button onClick={onClose} style={closeButtonStyles}>Close</button>\n        </div>\n    );\n};\n\n// Styles for the modal and its contents\nconst modalStyles = {\n    position: 'fixed',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    backgroundColor: 'white',\n    padding: '20px',\n    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\n    zIndex: 1000,\n    width: '400px',\n    borderRadius: '8px',\n};\n\nconst imageContainerStyles = {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: '10px',\n};\n\nconst imageStyles = {\n    width: '60px',\n    height: '60px',\n    borderRadius: '4px',\n};\n\nconst imageNameStyles = {\n    marginLeft: '10px',\n    flexGrow: 1,\n};\n\nconst deleteButtonStyles = {\n    marginLeft: '10px',\n    backgroundColor: 'red',\n    color: 'white',\n    border: 'none',\n    padding: '5px 10px',\n    cursor: 'pointer',\n    borderRadius: '4px',\n};\n\nconst closeButtonStyles = {\n    marginTop: '20px',\n    padding: '10px 20px',\n    backgroundColor: 'blue',\n    color: 'white',\n    border: 'none',\n    cursor: 'pointer',\n    borderRadius: '4px',\n};\n\nexport default ImageModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}